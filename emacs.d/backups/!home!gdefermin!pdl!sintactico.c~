#include "lexico.h"
#include <stdlib.h>
#include <stdio.h>
#include <sys/types.h>
#include <fcntl.h>


int callfunc(char **retval, char *func, int arg1, char *arg2) {
  char str[100];
  system("rm -f .fifo &>/dev/null");
  system("mkfifo .fifo");
  sprintf(str, "python -c '\nimport sintactico\nprint(sintactico.%s(%d,\"%s\"))' > .fifo\n", func, arg1, arg2);
  printf(str);
  int ret = system(str);
  int fd = open(".fifo",O_RDONLY);
  char buf[100];
  int count = read(fd, buf, 100);
  close(fd);
  printf(buf);
  system("rm .fifo");
}
